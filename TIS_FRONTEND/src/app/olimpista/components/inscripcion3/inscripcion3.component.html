<div class="max-w-4xl mx-auto px-4">
  <!-- Cabecera -->
  <div class="bg-gradient-to-r from-red-600 via-purple-800 to-blue-600 py-5 mb-8">
    <h1 class="text-white font-bold text-2xl">INSCRIPCIÓN PASO 3</h1>
  </div>
  <div class="flex items-center justify-center space-x-8 mb-6">
    <!-- Paso 1 (completado) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-green-500 text-white">
        <i class="fas fa-check">✓</i>
      </div>
      <span class="text-xs mt-2">Paso 1</span>
    </div>
  
    <!-- Paso 2 (completado) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-green-500 text-white">
        <i class="fas fa-check">✓</i>
      </div>
      <span class="text-xs mt-2">Paso 2</span>
    </div>
  
    <!-- Paso 3 (activo) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-[#5B2CB9] text-white">
        3
      </div>
      <span class="text-xs mt-2">Paso 3</span>
    </div>
  </div>
  
  <!-- Contenido principal -->
  <div class="bg-white p-6 rounded-lg shadow-sm">
    <!-- Estado de carga -->
    <div *ngIf="isLoading" class="text-center py-8">
      <i class="fas fa-spinner fa-spin fa-2x text-blue-500"></i>
      <p class="mt-2">Cargando áreas disponibles...</p>
    </div>

    <!-- Mensajes de error -->
    <div *ngIf="errorMessage" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
      <p>{{ errorMessage }}</p>
    </div>

    <!-- Error carga -->
    <div *ngIf="error" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4">
      <p>Error al cargar las áreas. Por favor intenta nuevamente.</p>
    </div>

    <!-- Selector de área -->
    <div *ngIf="!isLoading && !error">
      <h2 class="text-xl font-bold mb-4">Seleccione el Área</h2>

      <select
        [(ngModel)]="selectedAreaId"
        (change)="onAreaChange()"
        class="w-full p-3 border border-gray-300 rounded mb-4"
        required>
        <option [ngValue]="null" disabled selected>-- Seleccione un área --</option>
        <option *ngFor="let area of areas" [ngValue]="area.id">
          {{ area.nombre_area }}
        </option>
      </select>

      <!-- Información del área seleccionada -->
      <div *ngIf="selectedAreaId !== null" class="bg-gray-50 p-4 rounded mb-4">
        <h3 class="font-semibold">{{ getSelectedArea()?.nombre_area }}</h3>
        <p class="text-gray-600">{{ getSelectedArea()?.descripcion || 'No hay descripción disponible' }}</p>
      </div>
    </div>

    <!-- Botones -->
    <div class="flex justify-between mt-8">
      <button
        (click)="volver()"
        class="px-6 py-2 bg-gray-500 text-white rounded">
        Anterior
      </button>

      <button
        (click)="finalizarInscripcion()"
        [disabled]="!selectedAreaId || isSaving"
        class="px-6 py-2 bg-green-600 text-white rounded disabled:bg-gray-400">
        <span *ngIf="!isSaving">Finalizar Inscripción</span>
        <span *ngIf="isSaving">Procesando...</span>
      </button>
    </div>
  </div>
</div>
