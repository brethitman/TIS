<div class="olimpista__card bg-blue-50 shadow-md rounded-lg overflow-hidden">
  <div class="p-4">
    <!-- Sección del Área -->
    <div class="border border-gray-200 p-4 bg-white rounded-lg">
      <div class="bg-[#0A056D] p-6 rounded-lg shadow-lg text-white relative">
        <!-- Botón para editar área -->
        <button (click)="openEditAreaModal()"
                class="absolute top-2 right-2 bg-yellow-500 text-white px-3 py-1 rounded text-sm">
          Editar Área
        </button>

        <div class="space-y-4">
          <div>
            <h3 class="text-xl font-bold">{{ Area.nombre_area }}</h3>
          </div>
          <div class="flex justify-between items-start">
            <p class="text-sm flex-grow">{{ Area.descripcion || 'No disponible' }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Resto del código existente... -->
    <!-- Sección de Categorías -->
    <div class="border border-gray-200 p-4 bg-white rounded-lg mt-4">
      <h4 class="text-md font-semibold text-gray-700 mb-3">Categorías</h4>

      <!-- Lista de categorías -->
      <div *ngIf="categorias.length > 0; else noCategorias" class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div *ngFor="let categoria of categorias" class="bg-white p-4 border rounded shadow relative">
          <!-- Botones de acción -->
          <div class="absolute top-2 right-2 flex gap-2">
            <!-- Botón de deshabilitar/habilitar -->
            <button (click)="toggleHabilitacion(categoria)"
                    [class.bg-green-500]="!categoria.habilitacion"
                    [class.bg-yellow-500]="categoria.habilitacion"
                    class="text-white px-3 py-1 rounded text-sm">
              {{ categoria.habilitacion ? 'Deshabilitar' : 'Habilitar' }}
            </button>

            <!-- Botón de eliminar -->
            <button (click)="openDeleteModal(categoria.id)"
                    class="text-white bg-red-500 px-3 py-1 rounded text-sm">
              Eliminar
            </button>
          </div>

          <h3 class="font-bold">nombre : {{ categoria.nombre_nivel }}</h3>
          <p class="text-sm">descripcion : {{ categoria.descripcion || 'Sin descripción' }}</p>
          <p class="text-sm">Fecha examen: {{ categoria.fecha_examen | date:'dd/MM/yyyy' }}</p>
          <p class="text-sm">Costo: {{ categoria.costo }} Bs</p>
          <p class="text-sm">Estado:
            <span [class.text-green-500]="categoria.habilitacion"
                  [class.text-red-500]="!categoria.habilitacion">
              {{ categoria.habilitacion ? 'Habilitado' : 'Deshabilitado' }}
            </span>
          </p>
        </div>
      </div>

      <ng-template #noCategorias>
        <p class="text-gray-500 text-sm italic">No hay categorías registradas.</p>
      </ng-template>

      <!-- Botón para añadir nueva categoría -->
      <button (click)="openModal()" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
        Añadir categoría
      </button>
    </div>
  </div>
</div>

<!-- Modal para editar área (nuevo) -->
<div *ngIf="isEditAreaModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
      <h2 class="text-xl font-bold mb-4">Editar Área</h2>

      <form (ngSubmit)="saveAreaChanges()">
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Nombre del Área</label>
          <input type="text" [(ngModel)]="areaEditData.nombre_area" name="nombre_area"
                 class="w-full p-2 border rounded" required>
        </div>

        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Descripción</label>
          <textarea [(ngModel)]="areaEditData.descripcion" name="descripcion"
                    class="w-full p-2 border rounded"></textarea>
        </div>

        <div class="flex justify-end gap-2">
          <button type="button" (click)="closeEditAreaModal()"
                  class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
            Cancelar
          </button>
          <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
            Guardar Cambios
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Resto de los modales existentes... -->
<!-- Modal para añadir categoría -->
<div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
      <h2 class="text-xl font-bold mb-4">Nueva categoría</h2>

      <form (ngSubmit)="saveCategory()">
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Nombre</label>
          <input type="text" [(ngModel)]="nuevaCategoria.nombre_nivel" name="nombre_nivel"
                 class="w-full p-2 border rounded" required>
        </div>

        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Descripción</label>
          <input type="text" [(ngModel)]="nuevaCategoria.descripcion" name="descripcion"
                 class="w-full p-2 border rounded">
        </div>

        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Fecha de examen</label>
          <input type="date" [(ngModel)]="nuevaCategoria.fecha_examen" name="fecha_examen"
                 class="w-full p-2 border rounded" required>
        </div>

        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2">Costo (Bs)</label>
          <input type="number" [(ngModel)]="nuevaCategoria.costo" name="costo"
                 class="w-full p-2 border rounded" required>
        </div>

        <div class="flex justify-end gap-2">
          <button type="button" (click)="closeModal()"
                  class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
            Cancelar
          </button>
          <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
            Guardar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Modal de confirmación para eliminar -->
<div *ngIf="isDeleteModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
  <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
    <div class="p-6">
      <h2 class="text-xl font-bold mb-4">Confirmar eliminación</h2>
      <p class="mb-4">¿Estás seguro que deseas eliminar esta categoría?</p>

      <div class="flex justify-end gap-2">
        <button type="button" (click)="closeDeleteModal()"
                class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
          Cancelar
        </button>
        <button type="button" (click)="confirmDelete()"
                class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600">
          Eliminar
        </button>
      </div>
    </div>
  </div>
</div>
