<div class="max-w-4xl mx-auto px-4 relative font-roboto">
  <!-- Banner de cabecera (con gradiente y texto del primer formulario) -->
  <div class="bg-gradient-to-r from-red-600 via-purple-800 to-blue-600 py-5 mb-8 relative left-1/2 transform -translate-x-1/2 w-screen px-5 shadow-md">
    <h1 class="text-white m-0 font-bold text-2xl max-w-4xl mx-auto flex items-center">
      <i class="fas fa-file-alt mr-3"></i> INSCRIPCIÓN
    </h1>
  </div>

  <!-- Indicadores de pasos (conservando funcionalidad original) -->
  <div class="flex items-center justify-center space-x-8 mb-6">
    <!-- Paso 1 (completado) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-green-500 text-white">
        <i class="fas fa-check">✓</i>
      </div>
      <span class="text-xs mt-2">Paso 1</span>
    </div>

    <!-- Paso 2 (activo) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-[#5B2CB9] text-white">
        2
      </div>
      <span class="text-xs mt-2">Paso 2</span>
    </div>
  
    <!-- Paso 3 (pendiente) -->
    <div class="flex flex-col items-center">
      <div class="rounded-full h-10 w-10 flex items-center justify-center bg-gray-300 text-white">
        3
      </div>
      <span class="text-xs mt-2">Paso 3</span>
    </div>
  </div>
  
  <!-- Contenido del formulario (con diseño del segundo formulario) -->
  <div class="bg-white p-6 rounded-lg shadow-sm mb-8">
    <!-- Sección: Datos del postulante -->
    <div class="mb-8">
      <h2 class="text-xl font-bold mb-2 pb-2 border-b-2 border-indigo-700 text-gray-800 flex items-center">
        <i class="fas fa-user-graduate mr-2 text-indigo-700"></i> Datos del postulante:
      </h2>
      <p class="text-sm text-gray-600 italic mb-6">Llenar los siguientes datos para generar la boleta de pago correctamente</p>

      <!-- Campos del formulario (estilo del segundo formulario) -->
      <div class="mb-5 relative">
        <label class="font-semibold text-gray-800 flex items-center mb-2 after:content-['_*'] after:text-red-600 after:font-bold">
          <i class="fas fa-user mr-2 text-gray-600"></i> Nombre(s):
        </label>
        <input type="text" [(ngModel)]="olimpistaData.nombres" name="olimpistaNombres"
               class="w-full px-3 py-2 border border-gray-300 rounded h-10 focus:border-indigo-700 focus:ring-2 focus:ring-indigo-200" required>
      </div>

      <div class="mb-5 relative">
        <label class="font-semibold text-gray-800 flex items-center mb-2 after:content-['_*'] after:text-red-600 after:font-bold">
          <i class="fas fa-signature mr-2 text-gray-600"></i> Apellido(s):
        </label>
        <input type="text" [(ngModel)]="olimpistaData.apellidos" name="olimpistaApellidos"
               class="w-full px-3 py-2 border border-gray-300 rounded h-10 focus:border-indigo-700 focus:ring-2 focus:ring-indigo-200" required>
      </div>

      <div class="mb-5 relative">
        <label class="font-semibold text-gray-800 flex items-center mb-2 after:content-['_*'] after:text-red-600 after:font-bold">
          <i class="fas fa-id-card mr-2 text-gray-600"></i> Carnet de Identidad:
        </label>
        <input type="text" [(ngModel)]="olimpistaData.ci" name="olimpistaCi"
               class="w-full px-3 py-2 border border-gray-300 rounded h-10 focus:border-indigo-700 focus:ring-2 focus:ring-indigo-200" required>
      </div>

      <!-- Sección Excel (copiada exactamente del segundo formulario) -->
      <div class="italic text-gray-600 my-5 leading-relaxed bg-gray-50 px-4 py-3 border-l-4 border-green-700 rounded-r">
        <p class="my-2 flex items-center">
          <i class="fas fa-info-circle mr-2 text-green-700 w-4 text-center"></i> Como tutor, puedes inscribir a varios estudiantes a la vez.
        </p>
        <p class="my-2 flex items-center">
          <i class="fas fa-download mr-2 text-green-700 w-4 text-center"></i> Descarga la plantilla, completa los datos y súbela aquí.
        </p>
        <p class="my-2 flex items-center">
          <i class="fas fa-check-circle mr-2 text-green-700 w-4 text-center"></i> Asegúrate de seguir el formato establecido.
        </p>
      </div>

      <!-- Botón Excel (estilo del segundo formulario) -->
      <div class="flex items-center mb-5 space-x-3">
        <button type="button" 
          class="bg-blue-600 text-white px-4 py-2 rounded flex items-center justify-center h-10 shadow-md hover:bg-blue-700 transition"
          (click)="descargarPlantilla()">
          <i class="fas fa-download mr-2"></i> Descargar Plantilla
        </button>
        
        <button type="button" 
          class="bg-green-700 text-white px-4 py-2 rounded flex items-center justify-center h-10 shadow-md hover:bg-green-800 transition"
          (click)="abrirModalExcel()">
          <i class="fas fa-file-excel mr-2"></i> Subir Excel
        </button>
      </div>

      <!-- Previsualización de datos cargados del Excel (Nuevo) -->
      <div *ngIf="excelData && excelData.length > 0" class="mt-6 border border-green-200 rounded-lg bg-green-50 p-4">
        <h3 class="text-lg font-semibold text-green-800 mb-3 flex items-center">
          <i class="fas fa-table mr-2"></i> Datos cargados ({{ excelData.length }} registros)
        </h3>
        
        <div class="overflow-x-auto">
          <table class="w-full text-sm text-left">
            <thead class="bg-green-100 text-green-800">
              <tr>
                <th class="px-4 py-2 border-b border-green-200">#</th>
                <th *ngFor="let header of encabezadosExcel" class="px-4 py-2 border-b border-green-200">{{ header }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of excelData; let i = index" class="border-b border-green-100 hover:bg-green-100">
                <td class="px-4 py-2">{{ i + 1 }}</td>
                <td class="px-4 py-2">{{ row['Nombre del estudiante'] }}</td>
                <td class="px-4 py-2">{{ row['Apellido del estudiante'] }}</td>
                <td class="px-4 py-2">{{ row['CI'] }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <div class="mt-4 flex justify-end">
          <button (click)="limpiarDatosExcel()" class="bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition">
            <i class="fas fa-trash-alt mr-1"></i> Eliminar datos
          </button>
        </div>
      </div>
    </div>

    <!-- Botones de navegación (conservando funcionalidad original) -->
    <div class="flex justify-between mt-8">
      <button (click)="volver()" class="px-6 py-3 bg-gray-500 text-white rounded shadow-md hover:bg-gray-600 transition">
        Anterior
      </button>

      <button (click)="siguiente()"
              [disabled]="!olimpistaData.nombres || !olimpistaData.apellidos || !olimpistaData.ci"
              class="px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded shadow-md disabled:bg-gray-400 transition">
        Siguiente
      </button>
    </div>
  </div>

  <div class="modal fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-10 backdrop-blur-[1px] transition-all duration-300"
  [ngClass]="{'opacity-0 pointer-events-none': !modalVisible, 'opacity-100': modalVisible}">
<div class="modal-content bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden transition-all duration-300"
    [ngClass]="{'scale-95': !modalVisible, 'scale-100': modalVisible}">
    <div class="bg-green-700 text-white px-6 py-4 flex justify-between items-center">
        <h3 class="text-lg font-bold flex items-center">
          <i class="fas fa-file-excel mr-2"></i> Subir Archivo Excel
        </h3>
        <button (click)="cerrarModal()" class="text-white hover:text-gray-200">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <!-- Cuerpo del modal -->
      <div class="p-6">
        <div class="mb-4">
          <label class="block text-gray-700 font-medium mb-2">
            Selecciona un archivo Excel (.xlsx, .xls, .csv)
          </label>
          <div class="flex items-center">
            <input type="file" id="archivoExcel" (change)="archivoElegido($event)" accept=".xlsx,.xls,.csv" class="hidden">
            <button (click)="seleccionarArchivo()"
                    class="bg-blue-600 text-white px-4 py-2 rounded-l hover:bg-blue-700 transition">
              <i class="fas fa-folder-open mr-2"></i> Seleccionar
            </button>
            <div class="flex-1 border border-gray-300 rounded-r px-3 py-2 bg-gray-50 truncate">
              {{ archivoSeleccionado?.name || 'Ningún archivo seleccionado' }}
            </div>
          </div>
          <p class="text-xs text-gray-500 mt-1">Formatos aceptados: .xlsx, .xls, .csv</p>
        </div>

        <!-- Vista previa del archivo -->
        <div *ngIf="archivoSeleccionado" class="mt-4 border border-gray-200 rounded p-3 bg-gray-50">
          <div class="flex items-center text-green-700 mb-2">
            <i class="fas fa-check-circle mr-2"></i>
            <span>Archivo seleccionado correctamente</span>
          </div>
          <div class="text-sm">
            <p><strong>Nombre:</strong> {{ archivoSeleccionado.name }}</p>
            <p><strong>Tamaño:</strong> {{ (archivoSeleccionado.size / 1024).toFixed(2) }} KB</p>
            <p><strong>Tipo:</strong> {{ archivoSeleccionado.type || 'application/vnd.ms-excel' }}</p>
          </div>
        </div>

        <!-- Vista previa del contenido del Excel -->
        <div *ngIf="archivoPreview.length > 0" class="mt-4 border border-gray-200 rounded p-2 bg-gray-50">
          <p class="font-medium text-green-700 mb-2 flex items-center">
            <i class="fas fa-table mr-2"></i> Vista previa:
          </p>
          <div class="overflow-x-auto max-h-40">
            <table class="w-full text-xs">
              <thead class="bg-green-50 text-green-700">
                <tr>
                  <th *ngFor="let header of archivoHeaders" class="px-2 py-1 text-left border-b">
                    {{ header }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let row of archivoPreview; let i = index" class="hover:bg-green-100">
                  <td *ngFor="let header of archivoHeaders" class="px-2 py-1 border-b border-gray-100">
                    {{ row[header] }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <p *ngIf="archivoRows > archivoPreview.length" class="text-xs text-gray-500 mt-1 italic">
            Mostrando {{ archivoPreview.length }} de {{ archivoRows }} filas
          </p>
        </div>

        <!-- Mensaje de error si el archivo no es válido -->
        <div *ngIf="archivoInvalido" class="mt-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded">
          <i class="fas fa-exclamation-circle mr-2"></i>
          {{ mensajeError }}
        </div>
      </div>
      
      <!-- Pie del modal -->
      <div class="bg-gray-100 px-6 py-3 flex justify-end space-x-3">
        <button (click)="cerrarModal()"
                class="px-4 py-2 text-gray-700 hover:text-gray-900 transition">
          Cancelar
        </button>
        <button (click)="subirArchivo()"
                [disabled]="!archivoSeleccionado || archivoInvalido"
                class="px-4 py-2 bg-green-700 text-white rounded hover:bg-green-800 transition disabled:bg-gray-400">
          <i class="fas fa-upload mr-2"></i> Subir Archivo
        </button>
      </div>
    </div>
  </div>

  <!-- Footer (con color #0a005b y diseño del segundo formulario) -->
  <footer class="bg-[#0a005b] text-white px-5 py-6 flex justify-between items-center mt-12 w-screen relative left-1/2 transform -translate-x-1/2 shadow-md">
    <div>
      <div class="text-xl font-bold mb-2 flex items-center">
        <i class="fas fa-headset mr-2"></i> Support
      </div>
      <a href="mailto:bluenebuladigitalsolutions@gmail.com" class="text-white no-underline text-base mb-1 flex items-center hover:underline">
        <i class="fas fa-envelope mr-2"></i> bluenebuladigitalsolutionsgmail.com
      </a>
      <div class="text-base flex items-center">
        <i class="fas fa-phone-alt mr-2"></i> +591 79766695
      </div>
    </div>
    <div class="flex flex-row items-center">
      <img src="icon/ciencia.png" alt="Ciencia" class="max-w-[130px] h-auto z-10 mr-3 filter drop-shadow-lg animate-movimiento" />
      <img src="icon/atomo.png" alt="Átomo" class="max-w-[130px] h-auto z-0 filter drop-shadow-lg animate-movimiento" />
    </div>
  </footer>
</div>